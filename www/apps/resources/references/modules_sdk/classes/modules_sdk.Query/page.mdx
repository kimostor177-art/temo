import { TypeList } from "docs-ui"

# Query

API wrapper around the remoteQuery

## constructor

### Parameters

<TypeList types={[{"name":"__namedParameters","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"remoteQuery","type":"[RemoteQuery](../modules_sdk.RemoteQuery/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"traceFetchRemoteData","type":"(`fetcher`: () => Promise&#60;any&#62;, `serviceName`: `string`, `method`: `string`, `options`: ``{ select?: string[] ; relations: string[]  }``) => Promise&#60;any&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"indexModule","type":"[IIndexService](../../../types/IndexTypes/interfaces/types.IndexTypes.IIndexService/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"container","type":"[MedusaContainer](../../../medusa/types/medusa.MedusaContainer/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="Query"/>

___

## Properties

<TypeList types={[{"name":"container","type":"[MedusaContainer](../../../medusa/types/medusa.MedusaContainer/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"instrument","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"traceGraphQuery","type":"(`queryFn`: () => Promise&#60;any&#62;, `queryOptions`: ``{ entity: any ; fields: string[] ; pagination?: &#123; skip?: number ; take?: number ; order?: Record&#60;string, any&#62; \\| &#123;&#125;  &#125; ; filters?: [RemoteQueryFilters](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryFilters/page.mdx)&#60;any&#62; ; context?: [QueryContextType](../../../types/CommonTypes/types/types.CommonTypes.QueryContextType/page.mdx) ; withDeleted?: boolean ; strategy?: \"joined\" \\| \"select-in\" \\| \"balanced\"  }`` \\| ``{ entity: any ; fields: string[] ; pagination?: &#123; skip?: number ; take?: number ; order?: Record&#60;string, any&#62; \\| &#123;&#125;  &#125; ; filters?: [RemoteQueryFilters](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryFilters/page.mdx)&#60;any&#62; ; context?: [QueryContextType](../../../types/CommonTypes/types/types.CommonTypes.QueryContextType/page.mdx) ; withDeleted?: boolean ; strategy?: \"joined\" \\| \"select-in\" \\| \"balanced\"  }``) => Promise&#60;any&#62;","description":"Method to wrap execution of the graph query for instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"traceRemoteQuery","type":"(`queryFn`: () => Promise&#60;any&#62;, `queryOptions`: [RemoteJoinerQuery](../../../types/interfaces/types.RemoteJoinerQuery/page.mdx) \\| [RemoteQueryObjectConfig](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryObjectConfig/page.mdx)&#60;any&#62; \\| [RemoteQueryObjectFromStringResult](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryObjectFromStringResult/page.mdx)&#60;any&#62;) => Promise&#60;any&#62;","description":"Method to wrap execution of the remoteQuery overload function\nfor instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="Query"/>

___

## Methods

### query

#### Parameters

<TypeList types={[{"name":"queryOptions","type":"[RemoteJoinerQuery](../../../types/interfaces/types.RemoteJoinerQuery/page.mdx) \\| `object` \\| `object` \\| [RemoteQueryObjectConfig](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryObjectConfig/page.mdx)&#60;any&#62; \\| [RemoteQueryObjectFromStringResult](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryObjectFromStringResult/page.mdx)&#60;any&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"fields","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`any`","description":"The name of the entity to retrieve. For example, `product`.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"entryPoint","type":"TEntry \\| keyof [RemoteQueryEntryPoints](../../../types/ModulesSdkTypes/interfaces/types.ModulesSdkTypes.RemoteQueryEntryPoints/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"__TConfig","type":"TConfig","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"__value","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"service","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"expands","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"property","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"directives","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"directives","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"pagination","type":"`object`","description":"Pagination configurations for the returned list of items.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"skip","type":"`number`","description":"The number of items to skip before retrieving the returned items.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"take","type":"`number`","description":"The maximum number of items to return.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"order","type":"`Record<string, any>` \\| `object`","description":"Sort by field names in ascending or descending order.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"filters","type":"[RemoteQueryFilters](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryFilters/page.mdx)&#60;any&#62;","description":"Filters to apply on the retrieved items.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"$or","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$and","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$not","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"context","type":"[QueryContextType](../../../types/CommonTypes/types/types.CommonTypes.QueryContextType/page.mdx)","description":"Apply a query context on the retrieved data. For example, to retrieve product prices for a certain context.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"withDeleted","type":"`boolean`","description":"Apply a `withDeleted` flag on the retrieved data to retrieve soft deleted items.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"strategy","type":"`\"joined\"` \\| `\"select-in\"` \\| `\"balanced\"`","description":"Strategy will be send to the entry module called method","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"variables","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"options","type":"[RemoteJoinerOptions](../../../types/interfaces/types.RemoteJoinerOptions/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"throwIfKeyNotFound","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throwIfRelationNotFound","type":"`boolean` \\| `string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialData","type":"`object` \\| `object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialDataOnly","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cache","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"enable","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to enable the cache. This is only useful if you want to enable without providing any\nother options or if you want to enable/disable the cache based on the arguments.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"key","type":"`string` \\| (`args`: `any`[], `cachingModule`: [ICachingModuleService](../../../types/CachingTypes/interfaces/types.CachingTypes.ICachingModuleService/page.mdx)) => `string` \\| Promise&#60;string&#62;","description":"The key to use for the cache.\nIf a function is provided, it will be called with the arguments as the first argument and the\ncontainer as the second argument.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"tags","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The tags to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"ttl","type":"`number` \\| (`args`: `any`[]) => `undefined` \\| `number`","description":"The time-to-live (TTL) value in seconds.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"autoInvalidate","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to auto invalidate the cache whenever it is possible.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"providers","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The providers to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;any&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

### gql

Query wrapper to provide specific GraphQL like API around remoteQuery.query

#### Parameters

<TypeList types={[{"name":"query","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"variables","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="gql"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;any&#62;","optional":false,"defaultValue":"","description":"Query wrapper to provide specific GraphQL like API around remoteQuery.query","expandable":false,"children":[{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="gql"/>

### graph

Graph function uses the remoteQuery under the hood and
returns a result set

#### Type Parameters

<TypeList types={[{"name":"TEntry","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="graph"/>

#### Parameters

<TypeList types={[{"name":"queryOptions","type":"[RemoteQueryInput](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryInput/page.mdx)&#60;TEntry&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"[RemoteJoinerOptions](../../../types/interfaces/types.RemoteJoinerOptions/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"throwIfKeyNotFound","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throwIfRelationNotFound","type":"`boolean` \\| `string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialData","type":"`object` \\| `object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialDataOnly","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cache","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"enable","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to enable the cache. This is only useful if you want to enable without providing any\nother options or if you want to enable/disable the cache based on the arguments.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"key","type":"`string` \\| (`args`: `any`[], `cachingModule`: [ICachingModuleService](../../../types/CachingTypes/interfaces/types.CachingTypes.ICachingModuleService/page.mdx)) => `string` \\| Promise&#60;string&#62;","description":"The key to use for the cache.\nIf a function is provided, it will be called with the arguments as the first argument and the\ncontainer as the second argument.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"tags","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The tags to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"ttl","type":"`number` \\| (`args`: `any`[]) => `undefined` \\| `number`","description":"The time-to-live (TTL) value in seconds.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"autoInvalidate","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to auto invalidate the cache whenever it is possible.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"providers","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The providers to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="graph"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[GraphResultSet](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.GraphResultSet/page.mdx)&#60;TEntry&#62;&#62;","optional":false,"defaultValue":"","description":"Graph function uses the remoteQuery under the hood and\nreturns a result set","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="graph"/>

### index

Index function uses the Index module to query and hydrates the data with query.graph
returns a result set

#### Type Parameters

<TypeList types={[{"name":"TEntry","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="index"/>

#### Parameters

<TypeList types={[{"name":"queryOptions","type":"[RemoteQueryInput](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryInput/page.mdx)&#60;TEntry&#62; & `object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"joinFilters","type":"[RemoteQueryFilters](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.RemoteQueryFilters/page.mdx)&#60;TEntry&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"$or","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$and","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$not","type":"T & [RemoteQueryFilterOperators](../../../types/types/types.RemoteQueryFilterOperators/page.mdx)&#60;T&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]},{"name":"options","type":"[RemoteJoinerOptions](../../../types/interfaces/types.RemoteJoinerOptions/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"throwIfKeyNotFound","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throwIfRelationNotFound","type":"`boolean` \\| `string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialData","type":"`object` \\| `object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"initialDataOnly","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cache","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"enable","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to enable the cache. This is only useful if you want to enable without providing any\nother options or if you want to enable/disable the cache based on the arguments.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"key","type":"`string` \\| (`args`: `any`[], `cachingModule`: [ICachingModuleService](../../../types/CachingTypes/interfaces/types.CachingTypes.ICachingModuleService/page.mdx)) => `string` \\| Promise&#60;string&#62;","description":"The key to use for the cache.\nIf a function is provided, it will be called with the arguments as the first argument and the\ncontainer as the second argument.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"tags","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The tags to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"ttl","type":"`number` \\| (`args`: `any`[]) => `undefined` \\| `number`","description":"The time-to-live (TTL) value in seconds.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"autoInvalidate","type":"`boolean` \\| (`args`: `any`[]) => `undefined` \\| `boolean`","description":"Whether to auto invalidate the cache whenever it is possible.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"providers","type":"`string`[] \\| (`args`: `any`[]) => `undefined` \\| `string`[]","description":"The providers to use for the cache.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="index"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[GraphResultSet](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.GraphResultSet/page.mdx)&#60;TEntry&#62;&#62;","optional":false,"defaultValue":"","description":"Index function uses the Index module to query and hydrates the data with query.graph\nreturns a result set","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="index"/>
